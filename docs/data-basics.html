<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>MIDFIELD Institute - R data basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data-shaping-00-introduction.html" rel="next">
<link href="./chart-basics.html" rel="prev">
<link href="./figures/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MIDFIELD Institute</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MIDFIELDR/2024-midfield-institute"> <i class="bi bi-git" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./tutorials.html">Tutorial links</a></li><li class="breadcrumb-item"><a href="./data-basics.html">R data basics</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./before-you-arrive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Before you arrive</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./agenda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Program</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./tutorials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tutorial links</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chart-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R chart basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-basics.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">R data basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://midfieldr.github.io/midfieldr/articles/art-001-case-goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case study goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://midfieldr.github.io/midfieldr/articles/art-002-case-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case study data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://midfieldr.github.io/midfieldr/articles/art-003-case-results.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case study results</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://midfieldr.github.io/midfieldr/articles/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Post-workshop tutorials</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Shaping data 3 ways</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-00-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-01-data-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data selection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-02-basic-transforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic transforms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-03-aggregating-transforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aggregating transforms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-04-multi-table-transforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multi-table transforms</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-shaping-05-reshaping-transforms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reshaping transforms</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./license.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">License</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
<li><a href="#preface" id="toc-preface" class="nav-link active" data-scroll-target="#preface">Preface</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting started</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import data</a></li>
  <li><a href="#changes-in-place" id="toc-changes-in-place" class="nav-link" data-scroll-target="#changes-in-place">Changes in place</a></li>
  <li><a href="#column-operations" id="toc-column-operations" class="nav-link" data-scroll-target="#column-operations">Column operations</a></li>
  <li><a href="#row-operations" id="toc-row-operations" class="nav-link" data-scroll-target="#row-operations">Row operations</a></li>
  <li><a href="#group-and-summarize" id="toc-group-and-summarize" class="nav-link" data-scroll-target="#group-and-summarize">Group and summarize</a></li>
  <li><a href="#combine-operations" id="toc-combine-operations" class="nav-link" data-scroll-target="#combine-operations">Combine operations</a></li>
  <li><a href="#create-a-table" id="toc-create-a-table" class="nav-link" data-scroll-target="#create-a-table">Create a table</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul><div class="toc-actions"><ul class="collapse"><li><a href="https://github.com/MIDFIELDR/2024-midfield-institute/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./tutorials.html">Tutorial links</a></li><li class="breadcrumb-item"><a href="./data-basics.html">R data basics</a></li></ol></nav><div class="quarto-title">
<h1 class="title">R data basics</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="figures/data-basics.png" class="img-fluid figure-img"></p>
<figcaption>Image: <em>US Route 60 Large Array</em> by Mobilus In Mobili is licensed under <a href="https://creativecommons.org/licenses/by-sa/2.0/legalcode">CC BY-SA 2.0</a></figcaption></figure>
</div>
<p>Using data.table to manipulate data in R.</p>
<p><span class="important">License.</span> This material is adapted from <em>Getting started in R: Tinyverse edition</em> by Bashir and Eddelbuettel <span class="citation" data-cites="Bashir+Eddelbuettel:2018">(<a href="#ref-Bashir+Eddelbuettel:2018" role="doc-biblioref">2018</a>)</span> which was licensed under CC BY-SA by <a href="https://ilustat.com/post/writing-real-life-motivated-r-guides/">ilustat</a>. This adaptation and extension, <em>R data basics</em> by Richard Layton, is licensed under <a href="https://creativecommons.org/licenses/by-sa/2.0/legalcode">CC BY-SA 2.0</a>.</p>
<section id="preface" class="level2"><h2 class="anchored" data-anchor-id="preface">Preface</h2>
<p>MIDFIELD data are curated, that is, organized and integrated from multiple institutions, maintained over time, and available for reuse and preservation. Yet to address any specific research question, the data must be wrangled into a shape useful for analysis.</p>
<blockquote class="blockquote">
<p>The basic concept of data wrangling is to visualize your data being structured to make your task easier, and then take the steps to add this structure to your data <span class="citation" data-cites="Zumel+Mount:2020">(<a href="#ref-Zumel+Mount:2020" role="doc-biblioref">Zumel &amp; Mount, 2020, p. 113</a>.)</span>.</p>
</blockquote>
<p>This tutorial covers basic operations for data shaping with the goal of obtaining a simple “data matrix” where each row is an observation and each column is a measurement type.</p>
<p><span class="important">Using data.table</span> The rationale for manipulating data using the data.table package instead of base R or the dplyr package include speed, memory efficiency, and concise transforms via the []-indexing operator (e.g., the “by” grouping notation).</p>
<p>To mitigate the extra cognitive load for new R users of learning data.table syntax while also learning R, I use a “no-frills” approach as much as possible.</p>
<p>Conceptually, data.table operations can be viewed as</p>
<pre><code>    dt[i, j, by]</code></pre>
<p>with some intentional similarity to SQL. Here <code>i</code> operates on rows, <code>j</code> operates on columns, and <code>by</code> is the grouping operator.</p>
<p><span class="important">Before starting.</span> Our tutorials assume that you</p>
<ul>
<li>Have completed the <a href="before-you-arrive.html">Before you arrive</a> instructions</li>
<li>Have completed the <a href="r-basics.html">R basics</a> guide</li>
<li>Have completed the <a href="chart-basics.html">R chart basics</a> guide</li>
</ul>
<p>Start your R session by launching the RStudio project you created, e.g., <code>midfield-institute-2024.Rproj</code>. If you are in your RStudio project, the project name appears in the upper left corner of the RStudio window, e.g.,</p>
<p><img src="figures/rstudio-upper-left.png" class="img-fluid" style="width:40.0%"></p>
<p>And based on the work you did in the <em>Before you arrive</em> session, your project directory should have three folders:</p>
<p><img src="figures/rproj-directory-2.png" class="img-fluid" style="width:40.0%"></p>
</section><section id="getting-started" class="level2"><h2 class="anchored" data-anchor-id="getting-started">Getting started</h2>
<p><span class="important">Start a new script.</span> I recommend that you start a new script for this segment.</p>
<ul>
<li>Use <em>File &gt; New File &gt; R Script</em> to create a new R script</li>
<li>
<em>File &gt; Save As…</em> to name the file (we suggest <code>03-data-basics.R</code>), then save it to the <code>scripts</code> directory</li>
<li>At the top of the script, add a minimal header, something like:</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># R data basics</span></span>
<span><span class="co"># your name  </span></span>
<span><span class="co"># date </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> to load packages used in the script.</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://r-datatable.com">"data.table"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set data.table printout options</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span></span>
<span>  datatable.print.nrows <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  datatable.print.topn <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  datatable.print.class <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Reminder: In a code chunk like the one above, you can click on the “Copy to clipboard” icon in the upper right corner to enable quick copy and paste from this document to your script.</p>
<p>Use your script throughout the tutorial. When a new chunk of code is given,</p>
<ul>
<li>Copy the line(s) of code into your script, save, and run.<br>
</li>
<li>Check your result by comparing it to the result in the tutorial.</li>
<li>Check what you’ve learned using the <strong>Your turn</strong> exercises.</li>
</ul></section><section id="import-data" class="level2"><h2 class="anchored" data-anchor-id="import-data">Import data</h2>
<p>Read the same data file we used in the previous tutorial. The data set is in block-record (or “data matrix”) form, that is, variables are columns and observations are rows.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># import data</span></span>
<span><span class="va">cw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html">fread</a></span><span class="op">(</span><span class="st">"data/chick_weight.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;      Chick  Diet  Time weight</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:    18     1     0     39</span></span>
<span><span class="co">#&gt;   2:    18     1     2     35</span></span>
<span><span class="co">#&gt;   3:    16     1     0     41</span></span>
<span><span class="co">#&gt;   4:    16     1     2     45</span></span>
<span><span class="co">#&gt;   5:    16     1     4     49</span></span>
<span><span class="co">#&gt;  ---                         </span></span>
<span><span class="co">#&gt; 574:    48     4    14    170</span></span>
<span><span class="co">#&gt; 575:    48     4    16    222</span></span>
<span><span class="co">#&gt; 576:    48     4    18    261</span></span>
<span><span class="co">#&gt; 577:    48     4    20    303</span></span>
<span><span class="co">#&gt; 578:    48     4    21    322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="changes-in-place" class="level2"><h2 class="anchored" data-anchor-id="changes-in-place">Changes in place</h2>
<p><span class="important">Rename variables.</span> Edit column names “in place.”</p>
<p>By <em>in place</em> we mean that the change is made using data.table <em>reference semantics</em> (or <em>by reference</em>) in which changes are made without assigning the result back to a name, that is, we write</p>
<pre><code>    setnames(cw, old, new)</code></pre>
<p>not</p>
<pre><code>    cw &lt;- setnames(cw, old, new)</code></pre>
<p>For example, changing the variable names in the <code>cw</code> data frame,</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># change column names in place</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setattr.html">setnames</a></span><span class="op">(</span><span class="va">cw</span>, </span>
<span>         old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Chick"</span>, <span class="st">"Diet"</span>, <span class="st">"Time"</span>, <span class="st">"weight"</span><span class="op">)</span>, </span>
<span>         new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chick_id"</span>, <span class="st">"group"</span>, <span class="st">"day"</span>, <span class="st">"weight_g"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;      chick_id group   day weight_g</span></span>
<span><span class="co">#&gt;         &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:       18     1     0       39</span></span>
<span><span class="co">#&gt;   2:       18     1     2       35</span></span>
<span><span class="co">#&gt;   3:       16     1     0       41</span></span>
<span><span class="co">#&gt;   4:       16     1     2       45</span></span>
<span><span class="co">#&gt;   5:       16     1     4       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:       48     4    14      170</span></span>
<span><span class="co">#&gt; 575:       48     4    16      222</span></span>
<span><span class="co">#&gt; 576:       48     4    18      261</span></span>
<span><span class="co">#&gt; 577:       48     4    20      303</span></span>
<span><span class="co">#&gt; 578:       48     4    21      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There’s much more to reference semantics than dropping the assignment operator—it’s really about speed and memory efficiency with large data sets. However, for our “basics” series, you need to recall only that the <code>:=</code> operator and all data.table functions with names starting with <code>set</code> work by reference.</p>
<p><span class="important">Exercises</span> are written such that the question is displayed under the tab to the left; the answer is displayed by clicking on the tab to the right.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page"><em>Exercise 3.1</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>In <code>x</code>, rename the ID variable to <code>ID</code>.</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setattr.html">setnames</a></span><span class="op">(</span><span class="va">x</span>, old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chick_id"</span><span class="op">)</span>, new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ID"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;         ID group   day weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:    18     1     0       39</span></span>
<span><span class="co">#&gt;   2:    18     1     2       35</span></span>
<span><span class="co">#&gt;   3:    16     1     0       41</span></span>
<span><span class="co">#&gt;   4:    16     1     2       45</span></span>
<span><span class="co">#&gt;   5:    16     1     4       49</span></span>
<span><span class="co">#&gt;  ---                           </span></span>
<span><span class="co">#&gt; 574:    48     4    14      170</span></span>
<span><span class="co">#&gt; 575:    48     4    16      222</span></span>
<span><span class="co">#&gt; 576:    48     4    18      261</span></span>
<span><span class="co">#&gt; 577:    48     4    20      303</span></span>
<span><span class="co">#&gt; 578:    48     4    21      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">Reorder variables.</span> Another example of an operation in-place. The columns listed are moved to the left-hand side of the data frame and other columns appear to the right in their original order. Here we move <code>day</code>and <code>group</code> to the first two column positions.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># reorder column positions in place</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html">setcolorder</a></span><span class="op">(</span><span class="va">cw</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"day"</span>, <span class="st">"group"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:     0     1       18       39</span></span>
<span><span class="co">#&gt;   2:     2     1       18       35</span></span>
<span><span class="co">#&gt;   3:     0     1       16       41</span></span>
<span><span class="co">#&gt;   4:     2     1       16       45</span></span>
<span><span class="co">#&gt;   5:     4     1       16       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:    14     4       48      170</span></span>
<span><span class="co">#&gt; 575:    16     4       48      222</span></span>
<span><span class="co">#&gt; 576:    18     4       48      261</span></span>
<span><span class="co">#&gt; 577:    20     4       48      303</span></span>
<span><span class="co">#&gt; 578:    21     4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you want to make a change without affecting the source data frame, assign a copy of the data frame to a new name with the <code><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy()</a></code> function. Assignment to a new name is not enough; you have to deliberately use the <code><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy()</a></code> function.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># create an new object in memory</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># edit in place</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html">setcolorder</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="st">"day"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      group   day chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:     1     0       18       39</span></span>
<span><span class="co">#&gt;   2:     1     2       18       35</span></span>
<span><span class="co">#&gt;   3:     1     0       16       41</span></span>
<span><span class="co">#&gt;   4:     1     2       16       45</span></span>
<span><span class="co">#&gt;   5:     1     4       16       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:     4    14       48      170</span></span>
<span><span class="co">#&gt; 575:     4    16       48      222</span></span>
<span><span class="co">#&gt; 576:     4    18       48      261</span></span>
<span><span class="co">#&gt; 577:     4    20       48      303</span></span>
<span><span class="co">#&gt; 578:     4    21       48      322</span></span>
<span></span>
<span><span class="co"># source remains unchanged</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:     0     1       18       39</span></span>
<span><span class="co">#&gt;   2:     2     1       18       35</span></span>
<span><span class="co">#&gt;   3:     0     1       16       41</span></span>
<span><span class="co">#&gt;   4:     2     1       16       45</span></span>
<span><span class="co">#&gt;   5:     4     1       16       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:    14     4       48      170</span></span>
<span><span class="co">#&gt; 575:    16     4       48      222</span></span>
<span><span class="co">#&gt; 576:    18     4       48      261</span></span>
<span><span class="co">#&gt; 577:    20     4       48      303</span></span>
<span><span class="co">#&gt; 578:    21     4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><em>Exercise 3.2</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>In <code>x</code>, reorder the columns from left to right ID, group, day, weight.</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setcolorder.html">setcolorder</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"chick_id"</span>, <span class="st">"group"</span>, <span class="st">"day"</span>, <span class="st">"weight_g"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      chick_id group   day weight_g</span></span>
<span><span class="co">#&gt;         &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:       18     1     0       39</span></span>
<span><span class="co">#&gt;   2:       18     1     2       35</span></span>
<span><span class="co">#&gt;   3:       16     1     0       41</span></span>
<span><span class="co">#&gt;   4:       16     1     2       45</span></span>
<span><span class="co">#&gt;   5:       16     1     4       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:       48     4    14      170</span></span>
<span><span class="co">#&gt; 575:       48     4    16      222</span></span>
<span><span class="co">#&gt; 576:       48     4    18      261</span></span>
<span><span class="co">#&gt; 577:       48     4    20      303</span></span>
<span><span class="co">#&gt; 578:       48     4    21      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="column-operations" class="level2"><h2 class="anchored" data-anchor-id="column-operations">Column operations</h2>
<p><span class="important">j to transform a variable.</span> Use <code>:=</code> to transform column values in place, here, converting an integer to a double-precision number.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># modify values in an existing column</span></span>
<span><span class="va">cw</span><span class="op">[</span>, <span class="va">weight_g</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0     1       18       39</span></span>
<span><span class="co">#&gt;   2:     2     1       18       35</span></span>
<span><span class="co">#&gt;   3:     0     1       16       41</span></span>
<span><span class="co">#&gt;   4:     2     1       16       45</span></span>
<span><span class="co">#&gt;   5:     4     1       16       49</span></span>
<span><span class="co">#&gt;  ---                              </span></span>
<span><span class="co">#&gt; 574:    14     4       48      170</span></span>
<span><span class="co">#&gt; 575:    16     4       48      222</span></span>
<span><span class="co">#&gt; 576:    18     4       48      261</span></span>
<span><span class="co">#&gt; 577:    20     4       48      303</span></span>
<span><span class="co">#&gt; 578:    21     4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we use <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code> to add a prefix to the group number, converting the variable to a character type at the same time.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># modify values in an existing column</span></span>
<span><span class="va">cw</span><span class="op">[</span>, <span class="va">group</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"diet "</span>, <span class="va">group</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       39</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       18       35</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       16       41</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       16       45</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       16       49</span></span>
<span><span class="co">#&gt;  ---                               </span></span>
<span><span class="co">#&gt; 574:    14 diet 4       48      170</span></span>
<span><span class="co">#&gt; 575:    16 diet 4       48      222</span></span>
<span><span class="co">#&gt; 576:    18 diet 4       48      261</span></span>
<span><span class="co">#&gt; 577:    20 diet 4       48      303</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true"><em>Exercise 3.3</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>In <code>x</code>, add the prefix “day” to the day number, converting the variable to type character.</li>
</ul>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="va">day</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"day "</span>, <span class="va">day</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;         day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;char&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:  day 0 diet 1       18       39</span></span>
<span><span class="co">#&gt;   2:  day 2 diet 1       18       35</span></span>
<span><span class="co">#&gt;   3:  day 0 diet 1       16       41</span></span>
<span><span class="co">#&gt;   4:  day 2 diet 1       16       45</span></span>
<span><span class="co">#&gt;   5:  day 4 diet 1       16       49</span></span>
<span><span class="co">#&gt;  ---                                </span></span>
<span><span class="co">#&gt; 574: day 14 diet 4       48      170</span></span>
<span><span class="co">#&gt; 575: day 16 diet 4       48      222</span></span>
<span><span class="co">#&gt; 576: day 18 diet 4       48      261</span></span>
<span><span class="co">#&gt; 577: day 20 diet 4       48      303</span></span>
<span><span class="co">#&gt; 578: day 21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">j to select variables.</span> Variables not listed are dropped. Here, for example, we drop the <code>chick_id</code> variable by not listing it.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># select columns </span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">day</span>, <span class="va">group</span>, <span class="va">weight_g</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;        day  group weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       39</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       35</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       41</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       45</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       49</span></span>
<span><span class="co">#&gt;  ---                      </span></span>
<span><span class="co">#&gt; 574:    14 diet 4      170</span></span>
<span><span class="co">#&gt; 575:    16 diet 4      222</span></span>
<span><span class="co">#&gt; 576:    18 diet 4      261</span></span>
<span><span class="co">#&gt; 577:    20 diet 4      303</span></span>
<span><span class="co">#&gt; 578:    21 diet 4      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true"><em>Exercise 3.4</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>In <code>x</code>, select all columns except <code>day</code>.</li>
</ul>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">chick_id</span>, <span class="va">group</span>, <span class="va">weight_g</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      chick_id  group weight_g</span></span>
<span><span class="co">#&gt;         &lt;int&gt; &lt;char&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:       18 diet 1       39</span></span>
<span><span class="co">#&gt;   2:       18 diet 1       35</span></span>
<span><span class="co">#&gt;   3:       16 diet 1       41</span></span>
<span><span class="co">#&gt;   4:       16 diet 1       45</span></span>
<span><span class="co">#&gt;   5:       16 diet 1       49</span></span>
<span><span class="co">#&gt;  ---                         </span></span>
<span><span class="co">#&gt; 574:       48 diet 4      170</span></span>
<span><span class="co">#&gt; 575:       48 diet 4      222</span></span>
<span><span class="co">#&gt; 576:       48 diet 4      261</span></span>
<span><span class="co">#&gt; 577:       48 diet 4      303</span></span>
<span><span class="co">#&gt; 578:       48 diet 4      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">j to add a variable.</span> The new variable is added to the right of the other columns. Here, for example, we add the <code>weight_kg</code> variable.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># add a column</span></span>
<span><span class="va">cw</span><span class="op">[</span>, <span class="va">weight_kg</span> <span class="op">:=</span> <span class="va">weight_g</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g weight_kg</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       39     0.039</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       18       35     0.035</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       16       41     0.041</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       16       45     0.045</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       16       49     0.049</span></span>
<span><span class="co">#&gt;  ---                                         </span></span>
<span><span class="co">#&gt; 574:    14 diet 4       48      170     0.170</span></span>
<span><span class="co">#&gt; 575:    16 diet 4       48      222     0.222</span></span>
<span><span class="co">#&gt; 576:    18 diet 4       48      261     0.261</span></span>
<span><span class="co">#&gt; 577:    20 diet 4       48      303     0.303</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      322     0.322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true"><em>Exercise 3.5</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>In <code>x</code>, add a weight variable <code>weight_oz</code> in ounces (28.35 grams per ounce). Round the answer to the nearest tenth.</li>
</ul>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="va">weight_oz</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">weight_g</span> <span class="op">/</span> <span class="fl">28.35</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g weight_kg weight_oz</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;     &lt;num&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       39     0.039       1.4</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       18       35     0.035       1.2</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       16       41     0.041       1.4</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       16       45     0.045       1.6</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       16       49     0.049       1.7</span></span>
<span><span class="co">#&gt;  ---                                                   </span></span>
<span><span class="co">#&gt; 574:    14 diet 4       48      170     0.170       6.0</span></span>
<span><span class="co">#&gt; 575:    16 diet 4       48      222     0.222       7.8</span></span>
<span><span class="co">#&gt; 576:    18 diet 4       48      261     0.261       9.2</span></span>
<span><span class="co">#&gt; 577:    20 diet 4       48      303     0.303      10.7</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      322     0.322      11.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">j to delete a variable.</span> Assigning <code>NULL</code> by reference deletes the variable.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># delete a column</span></span>
<span><span class="va">cw</span><span class="op">[</span>, <span class="va">weight_kg</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       39</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       18       35</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       16       41</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       16       45</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       16       49</span></span>
<span><span class="co">#&gt;  ---                               </span></span>
<span><span class="co">#&gt; 574:    14 diet 4       48      170</span></span>
<span><span class="co">#&gt; 575:    16 diet 4       48      222</span></span>
<span><span class="co">#&gt; 576:    18 diet 4       48      261</span></span>
<span><span class="co">#&gt; 577:    20 diet 4       48      303</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true"><em>Exercise 3.6</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p>Using the <code>x</code> data frame from the previous exercise, delete the weight variables in grams and kilograms.</p>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span>, <span class="va">weight_g</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">x</span><span class="op">[</span>, <span class="va">weight_kg</span> <span class="op">:=</span> <span class="cn">NULL</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_oz</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       1.4</span></span>
<span><span class="co">#&gt;   2:     2 diet 1       18       1.2</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       16       1.4</span></span>
<span><span class="co">#&gt;   4:     2 diet 1       16       1.6</span></span>
<span><span class="co">#&gt;   5:     4 diet 1       16       1.7</span></span>
<span><span class="co">#&gt;  ---                                </span></span>
<span><span class="co">#&gt; 574:    14 diet 4       48       6.0</span></span>
<span><span class="co">#&gt; 575:    16 diet 4       48       7.8</span></span>
<span><span class="co">#&gt; 576:    18 diet 4       48       9.2</span></span>
<span><span class="co">#&gt; 577:    20 diet 4       48      10.7</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      11.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="row-operations" class="level2"><h2 class="anchored" data-anchor-id="row-operations">Row operations</h2>
<p><span class="important">i to filter by values.</span> Use relational operators to compare values.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># subset by observation</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span><span class="va">day</span> <span class="op">==</span> <span class="fl">21</span> <span class="op">&amp;</span> <span class="va">weight_g</span> <span class="op">&gt;</span> <span class="fl">300</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;      day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:    21 diet 1        7      305</span></span>
<span><span class="co">#&gt; 2:    21 diet 2       29      309</span></span>
<span><span class="co">#&gt; 3:    21 diet 2       21      331</span></span>
<span><span class="co">#&gt; 4:    21 diet 3       32      305</span></span>
<span><span class="co">#&gt; 5:    21 diet 3       40      321</span></span>
<span><span class="co">#&gt; 6:    21 diet 3       34      341</span></span>
<span><span class="co">#&gt; 7:    21 diet 3       35      373</span></span>
<span><span class="co">#&gt; 8:    21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For comparing values in vectors use: <code>&lt;</code> (less than), <code>&gt;</code> (greater than), <code>&lt;=</code> (less than or equal to), <code>&gt;=</code> (greater than or equal to), <code>==</code> (equal to), and <code>!=</code> (not equal to). These can be combined logically using <code>&amp;</code> (and) and <code>|</code> (or).</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true"><em>Exercise 3.7</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>Filter <code>x</code> to retain all observations on day 4, diet 3</li>
</ul>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="va">day</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">&amp;</span> <span class="va">group</span> <span class="op">==</span> <span class="st">"diet 3"</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;       day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:     4 diet 3       33       63</span></span>
<span><span class="co">#&gt;  2:     4 diet 3       37       56</span></span>
<span><span class="co">#&gt;  3:     4 diet 3       36       61</span></span>
<span><span class="co">#&gt;  4:     4 diet 3       31       62</span></span>
<span><span class="co">#&gt;  5:     4 diet 3       39       61</span></span>
<span><span class="co">#&gt;  6:     4 diet 3       38       61</span></span>
<span><span class="co">#&gt;  7:     4 diet 3       32       65</span></span>
<span><span class="co">#&gt;  8:     4 diet 3       40       66</span></span>
<span><span class="co">#&gt;  9:     4 diet 3       34       63</span></span>
<span><span class="co">#&gt; 10:     4 diet 3       35       64</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">i to arrange rows.</span></p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># order rows by values in columns</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">weight_g</span>, <span class="va">day</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     2 diet 1       18       35</span></span>
<span><span class="co">#&gt;   2:     0 diet 1       18       39</span></span>
<span><span class="co">#&gt;   3:     0 diet 2       27       39</span></span>
<span><span class="co">#&gt;   4:     0 diet 2       28       39</span></span>
<span><span class="co">#&gt;   5:     0 diet 2       29       39</span></span>
<span><span class="co">#&gt;  ---                               </span></span>
<span><span class="co">#&gt; 574:    21 diet 2       21      331</span></span>
<span><span class="co">#&gt; 575:    18 diet 3       35      332</span></span>
<span><span class="co">#&gt; 576:    21 diet 3       34      341</span></span>
<span><span class="co">#&gt; 577:    20 diet 3       35      361</span></span>
<span><span class="co">#&gt; 578:    21 diet 3       35      373</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true"><em>Exercise 3.8</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>Arrange rows of <code>x</code> by group and day</li>
</ul>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">group</span>, <span class="va">day</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;        day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     0 diet 1       18       39</span></span>
<span><span class="co">#&gt;   2:     0 diet 1       16       41</span></span>
<span><span class="co">#&gt;   3:     0 diet 1       15       41</span></span>
<span><span class="co">#&gt;   4:     0 diet 1       13       41</span></span>
<span><span class="co">#&gt;   5:     0 diet 1        9       42</span></span>
<span><span class="co">#&gt;  ---                               </span></span>
<span><span class="co">#&gt; 574:    21 diet 4       49      237</span></span>
<span><span class="co">#&gt; 575:    21 diet 4       46      238</span></span>
<span><span class="co">#&gt; 576:    21 diet 4       50      264</span></span>
<span><span class="co">#&gt; 577:    21 diet 4       42      281</span></span>
<span><span class="co">#&gt; 578:    21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">i to filter by index.</span></p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># subset by position</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;       day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:     0 diet 1       18       39</span></span>
<span><span class="co">#&gt;  2:     2 diet 1       18       35</span></span>
<span><span class="co">#&gt;  3:     0 diet 1       16       41</span></span>
<span><span class="co">#&gt;  4:     2 diet 1       16       45</span></span>
<span><span class="co">#&gt;  5:     4 diet 1       16       49</span></span>
<span><span class="co">#&gt;  6:     6 diet 1       16       51</span></span>
<span><span class="co">#&gt;  7:     8 diet 1       16       57</span></span>
<span><span class="co">#&gt;  8:    10 diet 1       16       51</span></span>
<span><span class="co">#&gt;  9:    12 diet 1       16       54</span></span>
<span><span class="co">#&gt; 10:     0 diet 1       15       41</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true"><em>Exercise 3.9</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<p>Using the <code>x</code> data frame from the previous exercise, filter to retain the last 10 rows.</p>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">569</span><span class="op">:</span><span class="fl">578</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;       day  group chick_id weight_g</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;char&gt;    &lt;int&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1:    20 diet 4       48      303</span></span>
<span><span class="co">#&gt;  2:    21 diet 4       45      196</span></span>
<span><span class="co">#&gt;  3:    21 diet 4       43      200</span></span>
<span><span class="co">#&gt;  4:    21 diet 4       41      204</span></span>
<span><span class="co">#&gt;  5:    21 diet 4       47      205</span></span>
<span><span class="co">#&gt;  6:    21 diet 4       49      237</span></span>
<span><span class="co">#&gt;  7:    21 diet 4       46      238</span></span>
<span><span class="co">#&gt;  8:    21 diet 4       50      264</span></span>
<span><span class="co">#&gt;  9:    21 diet 4       42      281</span></span>
<span><span class="co">#&gt; 10:    21 diet 4       48      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="group-and-summarize" class="level2"><h2 class="anchored" data-anchor-id="group-and-summarize">Group and summarize</h2>
<p><span class="important">by to count.</span> <code>.N</code> is a data.table function that yields the number of observations (rows) in a group identified with the <code>by</code> argument.</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># count number of chicks by diet group</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>N_chicks <span class="op">=</span> <span class="va">.N</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"group"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;     group N_chicks</span></span>
<span><span class="co">#&gt;    &lt;char&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1: diet 1      220</span></span>
<span><span class="co">#&gt; 2: diet 2      120</span></span>
<span><span class="co">#&gt; 3: diet 3      120</span></span>
<span><span class="co">#&gt; 4: diet 4      118</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true"><em>Exercise 3.10</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>Count the number of observations by day. Name the variable <code>count</code>
</li>
</ul>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>count <span class="op">=</span> <span class="va">.N</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"day"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;       day count</span></span>
<span><span class="co">#&gt;     &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1:     0    50</span></span>
<span><span class="co">#&gt;  2:     2    50</span></span>
<span><span class="co">#&gt;  3:     4    49</span></span>
<span><span class="co">#&gt;  4:     6    49</span></span>
<span><span class="co">#&gt;  5:     8    49</span></span>
<span><span class="co">#&gt;  6:    10    49</span></span>
<span><span class="co">#&gt;  7:    12    49</span></span>
<span><span class="co">#&gt;  8:    14    48</span></span>
<span><span class="co">#&gt;  9:    16    47</span></span>
<span><span class="co">#&gt; 10:    18    47</span></span>
<span><span class="co">#&gt; 11:    20    46</span></span>
<span><span class="co">#&gt; 12:    21    45</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span class="important">by to summarize.</span> Yields three new variables for count, mean, and standard deviation by the two grouping variables <code>group</code> and <code>day</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># compute summary statistics grouped by two variables</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span>,                                         <span class="co"># i (empty)</span></span>
<span>        <span class="fu">.</span><span class="op">(</span>N_chicks <span class="op">=</span> <span class="va">.N</span>,                          <span class="co"># j</span></span>
<span>          mean_wt_g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>,   <span class="co"># j (cont.)</span></span>
<span>          std_dev_wt_g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="co"># j (cont.)</span></span>
<span>        by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="st">"day"</span><span class="op">)</span><span class="op">]</span>                   <span class="co"># by</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">y</span></span>
<span><span class="co">#&gt;      group   day N_chicks mean_wt_g std_dev_wt_g</span></span>
<span><span class="co">#&gt;     &lt;char&gt; &lt;int&gt;    &lt;int&gt;     &lt;num&gt;        &lt;num&gt;</span></span>
<span><span class="co">#&gt;  1: diet 1     0       20      41.4          1.0</span></span>
<span><span class="co">#&gt;  2: diet 1     2       20      47.2          4.3</span></span>
<span><span class="co">#&gt;  3: diet 1     4       19      56.5          4.1</span></span>
<span><span class="co">#&gt;  4: diet 1     6       19      66.8          7.8</span></span>
<span><span class="co">#&gt;  5: diet 1     8       19      79.7         13.8</span></span>
<span><span class="co">#&gt; ---                                             </span></span>
<span><span class="co">#&gt; 44: diet 4    14       10     161.8         15.7</span></span>
<span><span class="co">#&gt; 45: diet 4    16       10     182.0         25.3</span></span>
<span><span class="co">#&gt; 46: diet 4    18       10     202.9         33.6</span></span>
<span><span class="co">#&gt; 47: diet 4    20        9     233.9         37.6</span></span>
<span><span class="co">#&gt; 48: diet 4    21        9     238.6         43.3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-11-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-1" role="tab" aria-controls="tabset-11-1" aria-selected="true"><em>Exercise 3.11</em></a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-11-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-11-2" role="tab" aria-controls="tabset-11-2" aria-selected="false"><em>Answer</em></a></li>
</ul>
<div class="tab-content">
<div id="tabset-11-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-11-1-tab">
<ul>
<li>Create a copy of <code>cw</code> using <code>x &lt;- copy(cw)</code>
</li>
<li>Count the number of chicks in <code>x</code> by group and day. Name the variable <code>count</code>
</li>
</ul>
</div>
<div id="tabset-11-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-11-2-tab">
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span><span class="op">(</span><span class="va">cw</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>count <span class="op">=</span> <span class="va">.N</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="st">"day"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt;      group   day count</span></span>
<span><span class="co">#&gt;     &lt;char&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1: diet 1     0    20</span></span>
<span><span class="co">#&gt;  2: diet 1     2    20</span></span>
<span><span class="co">#&gt;  3: diet 1     4    19</span></span>
<span><span class="co">#&gt;  4: diet 1     6    19</span></span>
<span><span class="co">#&gt;  5: diet 1     8    19</span></span>
<span><span class="co">#&gt; ---                   </span></span>
<span><span class="co">#&gt; 44: diet 4    14    10</span></span>
<span><span class="co">#&gt; 45: diet 4    16    10</span></span>
<span><span class="co">#&gt; 46: diet 4    18    10</span></span>
<span><span class="co">#&gt; 47: diet 4    20     9</span></span>
<span><span class="co">#&gt; 48: diet 4    21     9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section><section id="combine-operations" class="level2"><h2 class="anchored" data-anchor-id="combine-operations">Combine operations</h2>
<p><span class="important">[i, j, by] in combination.</span> In this example, we use <code>i</code> to filter for two specific days, <code>j</code> to create new summary variables grouped <code>by</code> variables <code>group</code> and <code>day</code>. The results are the count <code>N</code> plus weight statistics: mean, standard deviation, median, minimum, and maximum.</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># grouped summaries of specific observations</span></span>
<span><span class="va">cw_stats</span> <span class="op">&lt;-</span> <span class="va">cw</span><span class="op">[</span><span class="va">day</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">21</span><span class="op">)</span>,                         <span class="co"># i</span></span>
<span>               <span class="fu">.</span><span class="op">(</span>N <span class="op">=</span> <span class="va">.N</span>,                                  <span class="co"># j</span></span>
<span>                 mean_wt_g    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span>, <span class="co"># j (cont.)</span></span>
<span>                 std_dev_wt_g <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>,   <span class="co"># j (cont.)</span></span>
<span>                 median_wt_g  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html">median</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>,         <span class="co"># j (cont.)</span></span>
<span>                 min_wt_g     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span>,            <span class="co"># j (cont.)</span></span>
<span>                 max_wt_g     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">weight_g</span><span class="op">)</span><span class="op">)</span>,           <span class="co"># j (cont.)</span></span>
<span>               by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">group</span>, <span class="va">day</span><span class="op">)</span><span class="op">]</span>                        <span class="co"># by</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw_stats</span></span>
<span><span class="co">#&gt;     group   day     N mean_wt_g std_dev_wt_g median_wt_g min_wt_g max_wt_g</span></span>
<span><span class="co">#&gt;    &lt;char&gt; &lt;int&gt; &lt;int&gt;     &lt;num&gt;        &lt;num&gt;       &lt;num&gt;    &lt;num&gt;    &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: diet 1     0    20        41          1.0        41.0       39       43</span></span>
<span><span class="co">#&gt; 2: diet 1    21    16       178         58.7       166.0       96      305</span></span>
<span><span class="co">#&gt; 3: diet 2     0    10        41          1.5        40.5       39       43</span></span>
<span><span class="co">#&gt; 4: diet 2    21    10       215         78.1       212.5       74      331</span></span>
<span><span class="co">#&gt; 5: diet 3     0    10        41          1.0        41.0       39       42</span></span>
<span><span class="co">#&gt; 6: diet 3    21    10       270         71.6       281.0      147      373</span></span>
<span><span class="co">#&gt; 7: diet 4     0    10        41          1.1        41.0       39       42</span></span>
<span><span class="co">#&gt; 8: diet 4    21     9       239         43.3       237.0      196      322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="create-a-table" class="level2"><h2 class="anchored" data-anchor-id="create-a-table">Create a table</h2>
<p>Finally, we can make the summaries “prettier” for a possible report or publication where we format the numeric values as text and edit the column names for readability just before printing.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># combine mean and std dev into a single character column</span></span>
<span><span class="va">cw_stats</span><span class="op">[</span>, <span class="va">mean_sd</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">mean_wt_g</span>, <span class="st">" ("</span>, <span class="va">std_dev_wt_g</span>, <span class="st">")"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># combine min and max into a range column</span></span>
<span><span class="va">cw_stats</span><span class="op">[</span>, <span class="va">range</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">min_wt_g</span>, <span class="st">"--"</span>, <span class="va">max_wt_g</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># retain specific columns</span></span>
<span><span class="va">cw_stats</span> <span class="op">&lt;-</span> <span class="va">cw_stats</span><span class="op">[</span> , <span class="fu">.</span><span class="op">(</span><span class="va">group</span>, <span class="va">day</span>, <span class="va">N</span>, <span class="va">mean_sd</span>, <span class="va">median_wt_g</span>, <span class="va">range</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># order the rows</span></span>
<span><span class="va">cw_stats</span> <span class="op">&lt;-</span> <span class="va">cw_stats</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">group</span>, <span class="va">day</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># edit the column names for readability </span></span>
<span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/setattr.html">setnames</a></span><span class="op">(</span><span class="va">cw_stats</span>,</span>
<span>         old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="st">"day"</span>, <span class="st">"median_wt_g"</span>,<span class="st">"mean_sd"</span>, <span class="st">"range"</span><span class="op">)</span>,</span>
<span>         new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Group"</span>, <span class="st">"Day"</span>, <span class="st">"Median"</span>, <span class="st">"Mean [SD]"</span>, <span class="st">"Range"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view</span></span>
<span><span class="va">cw_stats</span></span>
<span><span class="co">#&gt;     Group   Day     N  Mean [SD] Median    Range</span></span>
<span><span class="co">#&gt;    &lt;char&gt; &lt;int&gt; &lt;int&gt;     &lt;char&gt;  &lt;num&gt;   &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: diet 1     0    20     41 (1)   41.0   39--43</span></span>
<span><span class="co">#&gt; 2: diet 1    21    16 178 (58.7)  166.0  96--305</span></span>
<span><span class="co">#&gt; 3: diet 2     0    10   41 (1.5)   40.5   39--43</span></span>
<span><span class="co">#&gt; 4: diet 2    21    10 215 (78.1)  212.5  74--331</span></span>
<span><span class="co">#&gt; 5: diet 3     0    10     41 (1)   41.0   39--42</span></span>
<span><span class="co">#&gt; 6: diet 3    21    10 270 (71.6)  281.0 147--373</span></span>
<span><span class="co">#&gt; 7: diet 4     0    10   41 (1.1)   41.0   39--42</span></span>
<span><span class="co">#&gt; 8: diet 4    21     9 239 (43.3)  237.0 196--322</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Eventually you should be able to produce a publication-ready version such as the following table, using Rmarkdown and the knitr package. Full details are available in other sources.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Table 1. Chick weight summary statistics (grams).</caption>
<thead><tr class="header">
<th style="text-align: left;">Group</th>
<th style="text-align: right;">Day</th>
<th style="text-align: right;">N</th>
<th style="text-align: right;">Mean [SD]</th>
<th style="text-align: right;">Median</th>
<th style="text-align: right;">Range</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">diet 1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">41 (1)</td>
<td style="text-align: right;">41.0</td>
<td style="text-align: right;">39–43</td>
</tr>
<tr class="even">
<td style="text-align: left;">diet 1</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">178 (58.7)</td>
<td style="text-align: right;">166.0</td>
<td style="text-align: right;">96–305</td>
</tr>
<tr class="odd">
<td style="text-align: left;">diet 2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">41 (1.5)</td>
<td style="text-align: right;">40.5</td>
<td style="text-align: right;">39–43</td>
</tr>
<tr class="even">
<td style="text-align: left;">diet 2</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">215 (78.1)</td>
<td style="text-align: right;">212.5</td>
<td style="text-align: right;">74–331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">diet 3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">41 (1)</td>
<td style="text-align: right;">41.0</td>
<td style="text-align: right;">39–42</td>
</tr>
<tr class="even">
<td style="text-align: left;">diet 3</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">270 (71.6)</td>
<td style="text-align: right;">281.0</td>
<td style="text-align: right;">147–373</td>
</tr>
<tr class="odd">
<td style="text-align: left;">diet 4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">41 (1.1)</td>
<td style="text-align: right;">41.0</td>
<td style="text-align: right;">39–42</td>
</tr>
<tr class="even">
<td style="text-align: left;">diet 4</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">239 (43.3)</td>
<td style="text-align: right;">237.0</td>
<td style="text-align: right;">196–322</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><span class="important">Interpretation.</span> This summary table offers similar results to those revealed in the charts,</p>
<ul>
<li>in day 21, diet 3 has the highest mean and median weights</li>
<li>in day 21, diet 4 has the least variability in weight</li>
</ul>
<p>In addition, we note that by day 21, diet 1 lost 4 chicks of 20 that started and diet 4 lost 1 of 10. This could be a sign of unsafe conditions.</p>
</section><section id="conclusion" class="level2"><h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The <em>R basics</em>, <em>R chart basics</em>, and <em>R data basics</em> guides introduced you to some of the basic concepts for using R and the data.table and ggplot2 packages to manipulate data and create charts. It is only an introduction to what R can do but hopefully you have seen some of the potential of using R for data science.</p>
<p><span class="important">Next steps.</span> There are plenty of R courses, books, and online resources that you can learn from. Find things that work for you and don’t be afraid to make mistakes or ask questions.</p>
<p>During the MIDFIELD workshops, you will build on what you’ve learned here, and use the midfieldr package to study student unit records. You can preview that material on the <a href="https://midfieldr.github.io/midfieldr/">midfieldr</a> website.</p>
</section><section id="references" class="level2">



</section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-Bashir+Eddelbuettel:2018" class="csl-entry" role="listitem">
Bashir, S., &amp; Eddelbuettel, D. (2018). <em><span class="nocase">Getting started in R: Tinyverse edition</span></em>. <a href="https://eddelbuettel.github.io/gsir-te/Getting-Started-in-R.pdf">https://eddelbuettel.github.io/gsir-te/Getting-Started-in-R.pdf</a>
</div>
<div id="ref-R-data.table" class="csl-entry" role="listitem">
Dowle, M., &amp; Srinivasan, A. (2021). <em>Data.table: Extension of ‘data.frame‘</em>. <a href="https://CRAN.R-project.org/package=data.table">https://CRAN.R-project.org/package=data.table</a>
</div>
<div id="ref-Zumel+Mount:2020" class="csl-entry" role="listitem">
Zumel, N., &amp; Mount, J. (2020). <em><span class="nocase">Practical Data Science with R</span></em> (2nd ed.). Manning Publications Co.
</div>
</div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><script src="https://utteranc.es/client.js" repo="https://github.com/MIDFIELDR/2024-midfield-institute" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./chart-basics.html" class="pagination-link" aria-label="R chart basics">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">R chart basics</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data-shaping-00-introduction.html" class="pagination-link" aria-label="Introduction">
        <span class="nav-page-text">Introduction</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="./license.html">
<p>License</p>
</a>
  </li>  
</ul>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/MIDFIELDR/2024-midfield-institute/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


</body></html>